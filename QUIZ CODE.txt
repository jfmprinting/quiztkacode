<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Kuis Interaktif TKA</title>
  <link href="https://fonts.googleapis.com/css2?family=Poppins&display=swap" rel="stylesheet">
  <style>
    * {
      box-sizing: border-box;
      font-family: 'Poppins', sans-serif;
    }
    body {
      margin: 0;
      padding: 0;
      background: #f4f4f4;
      color: #333;
    }
    .container {
      max-width: 800px;
      margin: 20px auto;
      background: #fff;
      padding: 20px;
      border-radius: 10px;
      box-shadow: 0 0 10px rgba(0,0,0,0.1);
    }
    .passage-box {
      max-height: 200px;
      overflow-y: auto;
      border: 1px solid #ccc;
      padding: 15px;
      background: #fafafa;
      margin-bottom: 20px;
      border-radius: 8px;
      display: none;
      white-space: pre-line;
    }
    .passage-box.active {
      display: block;
    }
    .question-text {
      font-size: 18px;
      margin-bottom: 10px;
    }
    .answer-option {
      display: block;
      margin: 10px 0;
      padding: 10px;
      border: 1px solid #ddd;
      border-radius: 8px;
      cursor: pointer;
      transition: background 0.3s;
    }
    .answer-option:hover {
      background: #f0f0f0;
    }
    .answer-option input {
      margin-right: 10px;
    }
    .submit-btn {
      background: #007bff;
      color: white;
      padding: 10px 20px;
      border: none;
      border-radius: 8px;
      cursor: pointer;
      font-size: 16px;
      margin-top: 20px;
    }
    .submit-btn:disabled {
      background: #ccc;
      cursor: not-allowed;
    }
    .nav-toggle {
      margin: 20px 0 10px;
      background: #007bff;
      color: white;
      padding: 8px 16px;
      border: none;
      border-radius: 5px;
      cursor: pointer;
      font-size: 14px;
    }
    .nav-panel {
      display: flex;
      flex-wrap: wrap;
      gap: 8px;
      margin-bottom: 20px;
    }
    .nav-item {
      width: 40px;
      height: 40px;
      border-radius: 50%;
      border: 2px solid #007bff;
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: bold;
      cursor: pointer;
      transition: background 0.3s;
      position: relative;
    }
    .nav-item:hover {
      background: #007bff;
      color: white;
    }
    .nav-item[data-passage="passage-1"]::after {
      content: "1";
      position: absolute;
      bottom: -12px;
      font-size: 10px;
      color: #007bff;
    }
    .nav-item[data-passage="passage-2"]::after {
      content: "2";
      position: absolute;
      bottom: -12px;
      font-size: 10px;
      color: #28a745;
    }
    .feedback-area {
      display: none;
      background: #e3f2fd;
      padding: 15px;
      margin-top: 20px;
      border-radius: 8px;
    }
    .question-block {
      display: none;
    }
    .question-block.active {
      display: block;
    }
    .progress-bar {
      height: 10px;
      width: 100%;
      background-color: #ddd;
      border-radius: 5px;
      overflow: hidden;
      margin-bottom: 20px;
    }
    .progress {
      height: 100%;
      width: 0%;
      background-color: #007bff;
      transition: width 0.3s;
    }
    @media (max-width: 600px) {
      .container {
        margin: 10px;
        padding: 15px;
      }
      .question-text {
        font-size: 16px;
      }
      .nav-item {
        width: 32px;
        height: 32px;
        font-size: 12px;
      }
    }
  </style>
</head>
<body>
  <div class="container">
    <div class="progress-bar">
      <div class="progress" id="progress"></div>
    </div>

    <!-- Passages -->
    <div class="passage-box active" id="passage-1">
      The old lighthouse keeper, Thomas Blackwood, had lived on the storm-battered isle of Aeridor for fifty years.

His only companions were the circling gulls and the relentless roar of the sea. His hands, gnarled and weathered like ancient driftwood, knew every gear and lens of the great lamp that was his life’s work.

One autumn, a series of unusually violent storms lashed the coast. The waves, like angry giants, clawed at the cliffs, and the wind howled with a mournful fury. Thomas, despite his aching bones, kept the light burning, a solitary beacon against the encroaching darkness.
    </div>

    <div class="passage-box" id="passage-2">
      Anya Sharma was a historian, but not the kind you’d find in dusty university archives.

She specialized in "lost histories," the stories that slipped through the cracks of official records. Her latest obsession was the legendary Sunstone of Amara, a relic said to hold the collective knowledge of a forgotten civilization.

Most academics considered it a myth, a fanciful tale told to children. But Anya had found a clue: a faded, 16th-century map tucked inside an old mariner’s journal.
    </div>

    <!-- Soal 1 -->
    <div class="question-block active" id="question-1" data-passage="passage-1">
      <div class="question-text">Apa tujuan utama Thomas Blackwood di pulau Aeridor?</div>
      <label class="answer-option"><input type="radio" name="answer-1"> Menjaga lampu mercusuar.</label>
      <label class="answer-option"><input type="radio" name="answer-1"> Meneliti badai laut.</label>
      <label class="answer-option"><input type="radio" name="answer-1"> Membuat kotak kayu.</label>
      <label class="answer-option"><input type="radio" name="answer-1"> Menemani burung camar.</label>
      <button class="submit-btn" disabled>Kirim Jawaban</button>
      <div class="feedback-area">
        <p><strong>Penjelasan:</strong> Jawaban benar adalah A karena paragraf menyatakan bahwa Thomas menjaga cahaya (lampu mercusuar).</p>
      </div>
    </div>

    <!-- Soal 2 -->
    <div class="question-block" id="question-2" data-passage="passage-1">
      <div class="question-text">Siapa tokoh utama dalam teks?</div>
      <label class="answer-option"><input type="radio" name="answer-2"> Elara</label>
      <label class="answer-option"><input type="radio" name="answer-2"> Thomas</label>
      <label class="answer-option"><input type="radio" name="answer-2"> Burung camar</label>
      <label class="answer-option"><input type="radio" name="answer-2"> Penulis</label>
      <button class="submit-btn" disabled>Kirim Jawaban</button>
      <div class="feedback-area">
        <p><strong>Penjelasan:</strong> Tokoh utama adalah Thomas, disebut berulang dalam paragraf.</p>
      </div>
    </div>

    <!-- Soal 3 -->
    <div class="question-block" id="question-3" data-passage="passage-2">
      <div class="question-text">Apa teknologi utama yang ditemukan?</div>
      <label class="answer-option"><input type="radio" name="answer-3"> Mesin waktu</label>
      <label class="answer-option"><input type="radio" name="answer-3"> Perangkat medis</label>
      <label class="answer-option"><input type="radio" name="answer-3"> Kamera pengintai</label>
      <label class="answer-option"><input type="radio" name="answer-3"> Pemindai otak</label>
      <button class="submit-btn" disabled>Kirim Jawaban</button>
      <div class="feedback-area">
        <p><strong>Penjelasan:</strong> Jawaban benar adalah mesin waktu sesuai dengan deskripsi teknologi di teks.</p>
      </div>
    </div>

    <button class="nav-toggle" onclick="toggleNav()">Tampilkan/Sembunyikan Navigasi Soal</button>
    <div class="nav-panel" id="nav-panel">
      <div class="nav-item" data-passage="passage-1" onclick="goToQuestion(1)">1</div>
      <div class="nav-item" data-passage="passage-1" onclick="goToQuestion(2)">2</div>
      <div class="nav-item" data-passage="passage-2" onclick="goToQuestion(3)">3</div>
    </div>
  </div>

  <script>
    function goToQuestion(num) {
      document.querySelectorAll('.question-block').forEach(q => q.classList.remove('active'));
      const target = document.getElementById('question-' + num);
      if (target) target.classList.add('active');

      document.querySelectorAll('.passage-box').forEach(p => p.classList.remove('active'));
      const passageId = target.getAttribute('data-passage');
      const passage = document.getElementById(passageId);
      if (passage) passage.classList.add('active');

      updateProgress();
      window.scrollTo({ top: 0, behavior: 'smooth' });
    }

    function toggleNav() {
      const panel = document.getElementById('nav-panel');
      panel.style.display = panel.style.display === 'none' ? 'flex' : 'none';
    }

    function updateProgress() {
      const total = document.querySelectorAll('.question-block').length;
      const answered = Array.from(document.querySelectorAll('.submit-btn'))
        .filter(btn => btn.disabled && btn.textContent === 'Lanjut').length;
      const percent = Math.floor((answered / total) * 100);
      document.getElementById('progress').style.width = percent + '%';
    }

    document.querySelectorAll('.answer-option input').forEach(input => {
      input.addEventListener('change', function() {
        const btn = this.closest('.question-block').querySelector('.submit-btn');
        if (btn) btn.disabled = false;
      });
    });

    document.querySelectorAll('.submit-btn').forEach(btn => {
      btn.addEventListener('click', function() {
        const feedback = this.closest('.question-block').querySelector('.feedback-area');
        if (feedback) feedback.style.display = 'block';
        this.disabled = true;
        this.textContent = 'Lanjut';
        updateProgress();
      });
    });
  </script>
</body>
</html>
